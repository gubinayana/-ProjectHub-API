# Методы авторизации
В этом разделе описаны методы API для авторизации 

## Оглавление
- [Вернуться в README](./README.md)
- [POST /auth/login — Вход в систему](#post-authlogin)
- [POST /auth/refresh — Обновление токена](#post-authrefresh)

### POST /auth/login 
**Назначение:** Выполнить вход в систему и получить пару токенов (access и refresh) для аутентифицированной работы с API.
**Контакт:** support@example.com
**Версия API:** v1 
**Базовый адрес:** api.example.com
**Описание:** Метод используется для авторизации пользователя по email и паролю. При успешном входе возвращает access-токен для выполнения запросов и refresh-токен для последующего обновления access-токена без повторного ввода пароля.

####  Тело запроса(Body-параметры)
|Поле|Тип|Обязательность|Ограничения| Описание|
|---|---|---------------|--------|-------|
|email| string| да| format: email| Email пользователя|
|password|string|да|minLength: 8| Пароль пользователя|

#### Пример тела запроса
```http
POST /auth/login  HTTP/1.1
Host: api.example.com
Content-Type: application/json
```

```json
{
  "email": "example@example.com",
  "password": "example123",
}
```

#### Параметры ответа
|Параметр| Тип | Обязателен | Описание|
|------|----------|----------|----|
|accessToken| string| да| JWT-токен|
|refreshToken| string| да| Токен для получения нового access-токена|

#### Пример ответа: 
```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refreshToken": "9ed31de9-bd8d-4d00-96a3-10130b9e8d67"
}
```
## Возможные ошибки

| Код ответа | Сообщение                   | Описание   | Рекомендации|
|------------|-----------------------------|----------------------------------------------------|-------|
| `400`      |`{"error": "Missing or invalid fields"}`| Bad Request — неверные данные запроса   | Поля не переданы или не соответствуют формату|
| `401`      |`	{"error": "Invalid email or password"}`| Неверные учетные данные | Введите корректные логин и пароль|  
| `500`      |`{"error": "Unexpected server error"}`| Internal Server Error — сбой сервера  | Повторите запрос позже или обратитесь в поддержку| 

## Пример ответа с ошибкой
```json
{
  "error": "Invalid email or password"
}
```

### POST /auth/refresh
**Назначение:** Обновить access-токен по ранее полученному refresh-токену.
**Контакт:** support@example.com
**Версия API:** v1 
**Базовый адрес:** api.example.com
**Описание:** Метод позволяет продлить авторизацию без повторного входа в систему. Используется, когда срок действия access-токена истёк. Возвращает новый access-токен, если refresh-токен действителен.

####  Тело запроса(Body-параметры)
|Поле|Тип|Обязательность|Ограничения| Описание|
|---|---|---------------|--------|-------|
|refreshToken| string| да| pattern: ^[A-Za-z0-9-_]{36,}$ | Токен для получения нового access-токена|

#### Пример тела запроса
```http
POST /auth/refresh  HTTP/1.1
Host: api.example.com
Content-Type: application/json
```

```json
{
  "refreshToken": "9ed31de9-bd8d-4d00-96a3-10130b9e8d67",
}
```

#### Параметры ответа
|Параметр| Тип | Обязателен | Описание|
|------|----------|----------|----|
|accessToken| string| да| JWT-токен|

#### Пример ответа: 
```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
}
```
## Возможные ошибки

| Код ответа | Сообщение                   | Описание   | Рекомендации|
|------------|-----------------------------|----------------------------------------------------|-------|
| `400`      |`{"error": "Missing or invalid fields"}`| Bad Request — неверные данные запроса   | Поля не переданы или не соответствуют формату|
| `403`      |`{"error": "Refresh token is invalid or expired" }`| Доступ запрещён | Невозможно выполнить операцию с текущим уровнем доступа|  
| `500`      |`{"error": "Unexpected server error"}`| Internal Server Error — сбой сервера  | Повторите запрос позже или обратитесь в поддержку| 

## Пример ответа с ошибкой
```json
{
  "error": "Refresh token is invalid or expired"
}
```